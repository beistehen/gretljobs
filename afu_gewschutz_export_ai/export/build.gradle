import ch.so.agi.gretl.steps.*


def bereichDelete = '/home/bjsvwjek/IdeaProjects/gretljobs/afu_gewschutz_export_ai/export/gsbereich_delete.sql'
def bereichInsert = '/home/bjsvwjek/IdeaProjects/gretljobs/afu_gewschutz_export_ai/export/gsbereich_insert.sql'

def zoneDelete = '/home/bjsvwjek/IdeaProjects/gretljobs/afu_gewschutz_export_ai/export/gszone_delete.sql'
def zoneInsert = '/home/bjsvwjek/IdeaProjects/gretljobs/afu_gewschutz_export_ai/export/gszone_insert.sql'

def arealDelete = '/home/bjsvwjek/IdeaProjects/gretljobs/afu_gewschutz_export_ai/export/gsareal_delete.sql'
def arealInsert = '/home/bjsvwjek/IdeaProjects/gretljobs/afu_gewschutz_export_ai/export/gsareal_insert.sql'


task stageGsBereich(type: SqlExecutorTask){
    database = [dbUrl, dbUser, dbPass]
    sqlFiles = [bereichDelete, bereichInsert]
}

task stageGsZone(type: SqlExecutorTask){
    database = [dbUrl, dbUser, dbPass]
    sqlFiles = [zoneDelete, zoneInsert]
}

task stageGsAreal(type: SqlExecutorTask){
    database = [dbUrl, dbUser, dbPass]
    sqlFiles = [arealDelete, arealInsert]
}

task stageAll(dependsOn: [stageGsBereich, stageGsAreal, stageGsZone]){
}

task clearStagingRows(type: SqlExecutorTask, dependsOn: [stageGsBereich, stageGsAreal, stageGsZone]){
    database = [dbUrl, dbUser, dbPass]
    sqlFiles = [arealDelete, bereichDelete, zoneDelete]
}
